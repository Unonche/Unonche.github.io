import{s as K,k as Q,e as f,a as R,t as F,b as m,l as E,c as D,m as G,d as w,g as H,p as W,f as o,q as S,i as X,r as a,u as L,v as Z,w as Y,x as tt,y as et,z as at,j as rt}from"../chunks/scheduler.BcEtcoI2.js";import{S as st,i as ot,b as lt,c as nt,a as it,m as ct,t as ut,d as dt,e as ft}from"../chunks/index.BYaUxKRb.js";import{g as mt}from"../chunks/stores.CySvVsEi.js";import{j as pt}from"../chunks/index.Dcq1LWku.js";import{f as vt}from"../chunks/globals.z-Fk4paI.js";import{A as _t}from"../chunks/avatarSelector.183xPmLd.js";function ht(s){let u,r,c,h,p,n,I,j,$,i,e,T,g,b,N="Choisis ton avatar",V,x,v,q,A,l,U="Rejoindre la partie",y,P,z;function J(t){s[6](t)}let O={};return s[1]!==void 0&&(O.avatar=s[1]),v=new _t({props:O}),Q.push(()=>lt(v,"avatar",J)),{c(){u=f("div"),r=f("div"),c=f("img"),p=R(),n=f("header"),I=F("Rejoindre #"),j=F(s[2]),$=R(),i=f("form"),e=f("input"),T=R(),g=f("div"),b=f("div"),b.textContent=N,V=R(),x=f("div"),nt(v.$$.fragment),A=R(),l=f("button"),l.textContent=U,this.h()},l(t){u=m(t,"DIV",{class:!0});var d=E(u);r=m(d,"DIV",{class:!0});var _=E(r);c=m(_,"IMG",{src:!0,alt:!0,class:!0}),p=D(_),n=m(_,"HEADER",{class:!0});var M=E(n);I=G(M,"Rejoindre #"),j=G(M,s[2]),M.forEach(w),$=D(_),i=m(_,"FORM",{});var C=E(i);e=m(C,"INPUT",{class:!0,type:!0,placeholder:!0}),T=D(C),g=m(C,"DIV",{class:!0});var k=E(g);b=m(k,"DIV",{class:!0,"data-svelte-h":!0}),H(b)!=="svelte-r3vr40"&&(b.textContent=N),V=D(k),x=m(k,"DIV",{class:!0});var B=E(x);it(v.$$.fragment,B),B.forEach(w),k.forEach(w),A=D(C),l=m(C,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),H(l)!=="svelte-1pcq2by"&&(l.textContent=U),C.forEach(w),_.forEach(w),d.forEach(w),this.h()},h(){W(c.src,h="logo.png")||o(c,"src",h),o(c,"alt","logo"),o(c,"class","w-auto h-28 mx-auto"),o(n,"class","card-header font-bold text-center pt-2 text-xl"),o(e,"class","input text-lg my-4"),o(e,"type","text"),o(e,"placeholder","Pseudo"),o(b,"class","pt-4 font-bold text-center"),o(x,"class","p-2"),o(g,"class","card max-w-md rounded-lg"),o(l,"type","button"),o(l,"class","btn btn-lg mt-4 w-full variant-filled-primary"),S(l,"opacity-50",!s[3]),S(l,"cursor-not-allowed",!s[3]),o(r,"class","flex flex-col"),o(u,"class","p-4 flex items-center justify-center w-full min-h-screen")},m(t,d){X(t,u,d),a(u,r),a(r,c),a(r,p),a(r,n),a(n,I),a(n,j),a(r,$),a(r,i),a(i,e),L(e,s[0]),a(i,T),a(i,g),a(g,b),a(g,V),a(g,x),ct(v,x,null),a(i,A),a(i,l),y=!0,P||(z=[Z(e,"input",s[5]),Z(l,"click",s[4]),Y(vt.call(null,i,!0))],P=!0)},p(t,[d]){(!y||d&4)&&tt(j,t[2]),d&1&&e.value!==t[0]&&L(e,t[0]);const _={};!q&&d&2&&(q=!0,_.avatar=t[1],et(()=>q=!1)),v.$set(_),(!y||d&8)&&S(l,"opacity-50",!t[3]),(!y||d&8)&&S(l,"cursor-not-allowed",!t[3])},i(t){y||(ut(v.$$.fragment,t),y=!0)},o(t){dt(v.$$.fragment,t),y=!1},d(t){t&&w(u),ft(v),P=!1,at(z)}}}function gt(s,u,r){let c,h,p="",n=null;rt(()=>{const e=new URL(window.location.href);r(2,n=e.searchParams.get("room"))});const I=mt();async function j(){if(!(!c||!n||!h))try{await pt(n,p,h)}catch(e){I.trigger({message:e.message,background:"variant-filled-error"})}}function $(){p=this.value,r(0,p)}function i(e){h=e,r(1,h)}return s.$$.update=()=>{s.$$.dirty&1&&r(3,c=/^[-_a-zA-Z0-9]{3,15}$/.test(p))},[p,h,n,c,j,$,i]}class Et extends st{constructor(u){super(),ot(this,u,gt,ht,K,{})}}export{Et as component};
